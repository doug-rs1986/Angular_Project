<div class="documents-container">
  <div class="form-header">
    <h2>Documentos</h2>
    <p>Informe seus documentos pessoais</p>
  </div>

  <form [formGroup]="documentsForm" (ngSubmit)="onSubmit()" class="documents-form">
    <div class="form-section">
      <h3>Documentos Obrigatórios</h3>
      
      <div class="form-grid">
        <!-- CPF -->
        <div class="form-group">
          <label for="cpf">CPF *</label>
          <input 
            type="text" 
            id="cpf" 
            formControlName="cpf"
            (input)="onCpfInput($event)"
            [class.error]="isFieldInvalid('cpf')"
            placeholder="000.000.000-00"
            maxlength="14">
          @if (isFieldInvalid('cpf')) {
            <span class="error-message">{{ getFieldError('cpf') }}</span>
          }
        </div>

        <!-- RG -->
        <div class="form-group">
          <label for="rg">RG *</label>
          <input 
            type="text" 
            id="rg" 
            formControlName="rg"
            (input)="onRgInput($event)"
            [class.error]="isFieldInvalid('rg')"
            placeholder="12345678-9"
            maxlength="12">
          @if (isFieldInvalid('rg')) {
            <span class="error-message">{{ getFieldError('rg') }}</span>
          }
        </div>

        <!-- Órgão Emissor RG -->
        <div class="form-group">
          <label for="rgIssuingAgency">Órgão Emissor *</label>
          <select 
            id="rgIssuingAgency" 
            formControlName="rgIssuingAgency"
            [class.error]="isFieldInvalid('rgIssuingAgency')">
            <option value="">Selecione...</option>
            <option value="SSP">SSP - Secretaria de Segurança Pública</option>
            <option value="IFP">IFP - Instituto Felix Pacheco</option>
            <option value="DETRAN">DETRAN - Departamento de Trânsito</option>
            <option value="PC">PC - Polícia Civil</option>
            <option value="PM">PM - Polícia Militar</option>
            <option value="IIRGD">IIRGD - Instituto de Identificação</option>
          </select>
          @if (isFieldInvalid('rgIssuingAgency')) {
            <span class="error-message">{{ getFieldError('rgIssuingAgency') }}</span>
          }
        </div>

        <!-- Data de Emissão RG -->
        <div class="form-group">
          <label for="rgIssueDate">Data de Emissão *</label>
          <input 
            type="date" 
            id="rgIssueDate" 
            formControlName="rgIssueDate"
            [class.error]="isFieldInvalid('rgIssueDate')">
          @if (isFieldInvalid('rgIssueDate')) {
            <span class="error-message">{{ getFieldError('rgIssueDate') }}</span>
          }
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3>CNH (Opcional)</h3>
      
      <div class="form-grid">
        <!-- CNH -->
        <div class="form-group">
          <label for="cnh">Número da CNH</label>
          <input 
            type="text" 
            id="cnh" 
            formControlName="cnh"
            (input)="onCnhInput($event)"
            [class.error]="isFieldInvalid('cnh')"
            placeholder="12345678901"
            maxlength="11">
          @if (isFieldInvalid('cnh')) {
            <span class="error-message">{{ getFieldError('cnh') }}</span>
          }
        </div>

        <!-- Categoria CNH -->
        <div class="form-group">
          <label for="cnhCategory">Categoria</label>
          <select 
            id="cnhCategory" 
            formControlName="cnhCategory"
            [class.error]="isFieldInvalid('cnhCategory')">
            <option value="">Selecione...</option>
            <option value="A">A - Motocicleta</option>
            <option value="B">B - Automóvel</option>
            <option value="C">C - Caminhão</option>
            <option value="D">D - Ônibus</option>
            <option value="E">E - Articulado</option>
            <option value="AB">AB - A + B</option>
            <option value="AC">AC - A + C</option>
            <option value="AD">AD - A + D</option>
            <option value="AE">AE - A + E</option>
          </select>
          @if (isFieldInvalid('cnhCategory')) {
            <span class="error-message">{{ getFieldError('cnhCategory') }}</span>
          }
        </div>

        <!-- Validade CNH -->
        <div class="form-group">
          <label for="cnhExpiryDate">Data de Validade</label>
          <input 
            type="date" 
            id="cnhExpiryDate" 
            formControlName="cnhExpiryDate"
            [class.error]="isFieldInvalid('cnhExpiryDate')">
          @if (isFieldInvalid('cnhExpiryDate')) {
            <span class="error-message">{{ getFieldError('cnhExpiryDate') }}</span>
          }
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" class="btn-secondary" (click)="goBack()">
        <span class="arrow">←</span>
        Voltar
      </button>
      <button type="submit" class="btn-primary" [disabled]="documentsForm.invalid">
        Próximo: Endereço
        <span class="arrow">→</span>
      </button>
    </div>
  </form>
</div>
